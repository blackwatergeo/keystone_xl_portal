//>>built
require({cache:{"url:widgets/LayerList/PopupMenu.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"popup-menu-transparency-body" data-dojo-attach-point\x3d"transparencyDiv" data-dojo-attach-event\x3d"onclick:_onTransparencyDivClick" \x3e\r\n    \x3cdiv class\x3d"label"\x3e\r\n      \x3cdiv class\x3d"label-left jimu-float-leading"\x3e${nls.itemOpaque}\x3c/div\x3e\r\n      \x3cdiv class\x3d"label-right jimu-float-trailing"\x3e${nls.itemTransparent}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"transparencyBody"\x3e \r\n      \x3col data-dojo-attach-point\x3d"transparencyRule" class\x3d"transparency-rule"\x3e \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3cdiv\x3e\r\n'}});
define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/_base/lang dojo/query dojo/on dojo/Deferred jimu/dijit/DropMenu dijit/_TemplatedMixin dijit/form/HorizontalSlider dijit/form/HorizontalRuleLabels dojo/text!./PopupMenu.html dojo/dom-style ./NlsStrings ./PopupMenuInfo".split(" "),function(f,g,c,d,e,h,k,l,m,n,p,q,b,r,s){return f([l,m],{templateString:q,popupMenuInfo:null,_popupMenuInfoDef:null,_deniedItems:null,_layerInfo:null,constructor:function(){this.nls=r.value;this._deniedItems=
[];this._popupMenuInfoDef=new k},_getDropMenuPosition:function(){return{top:"28px",left:12-c.getStyle(this.dropMenuNode,"width")+"px"}},_getTransNodePosition:function(){return{top:"15px",left:-174-c.getStyle(this.dropMenuNode,"width")+"px"}},_onBtnClick:function(){},btnClick:function(){this.dropMenuNode||s.create(this._layerInfo,this._appConfig).then(d.hitch(this,function(a){this.items=a.getDisplayItems();this.popupMenuInfo=a;this._createDropMenuNode();this.own(h(this.dropMenuNode,"click",d.hitch(this,
function(a){a.stopPropagation()})));this._popupMenuInfoDef.resolve(a)}))},getPopupMenuInfo:function(){return this._popupMenuInfoDef},_refresh:function(){this._denyItems()},_denyItems:function(){var a=e("div[class~\x3d'menu-item']",this.dropMenuNode).forEach(function(a){c.removeClass(a,"menu-item-dissable")});g.forEach(this._deniedItems,function(b){a.forEach(function(a){c.getAttr(a,"itemId")===b&&(c.addClass(a,"menu-item-dissable"),"url"===b&&e(".menu-item-description",a).forEach(function(a){c.setAttr(a,
"href","#");c.removeAttr(a,"target")}))})},this)},selectItem:function(a){-1===this._deniedItems.indexOf(a.key)&&this.emit("onMenuClick",a)},openDropMenu:function(a){a.then(d.hitch(this,function(a){this._deniedItems=a;this._refresh()}));this.inherited(arguments)},closeDropMenu:function(){this.inherited(arguments);this.hideTransNode()},_onTransparencyDivClick:function(a){a.stopPropagation()},showTransNode:function(a){this.transHorizSlider||(this._createTransparencyWidget(),this.transHorizSlider.set("value",
1-a));b.set(this.transparencyDiv,"top",this._getTransNodePosition().top);isRTL?b.set(this.transparencyDiv,"right",this._getTransNodePosition().left):b.set(this.transparencyDiv,"left",this._getTransNodePosition().left);b.set(this.transparencyDiv,"display","block")},hideTransNode:function(){b.set(this.transparencyDiv,"display","none")},_createTransparencyWidget:function(){this.transHorizSlider=new n({minimum:0,maximum:1,intermediateChanges:!0},this.transparencyBody);this.own(this.transHorizSlider.on("change",
d.hitch(this,function(a){this.emit("onMenuClick",{key:"transparencyChanged"},{newTransValue:a})})));new p({container:"bottomDecoration"},this.transparencyRule)}})});